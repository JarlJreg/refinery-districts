district_refinery = {
	#Basic_properties
		#
		base_buildtime = 240
		is_capped_by_modifier = no
		resources = {
			category = planet_districts_refinery
			cost = {
				minerals = @city_cost
			}
			upkeep = {
				energy = 2
			}
		}
	#Conditions
		potential = {
			exists = owner
			uses_district_set = habitat
		}
		allow = {
			NOT = { has_modifier = resort_colony }
			NOT = { has_modifier = slave_colony }
		}
		show_on_uncolonized = {
			exists = from
			uses_district_set = habitat
		}
	#Effects
		#Base
			planet_modifier = {
				planet_housing_add = 2
			}
		#Non_gestalts
			#exotic_gases
				triggered_planet_modifier = {
					potential = {
						exists = owner
						owner = {
							is_gestalt = no
						}
						OR = {
							has_active_building = building_spec_gases_main_1
							has_active_building = building_spec_gases_main_2
							has_active_building = building_spec_gases_main_3
						}
					}
					modifier = {
						job_gas_refiner_add = 1
					}
				}
				triggered_planet_modifier = {
					potential = {
						exists = owner
						owner = {
							is_gestalt = no
						}
						OR = {
							has_active_building = building_spec_gases_aux
						}
					}
					modifier = {
						job_gas_refiner_add = 1
					}
				}
			#rare_crystals
			#volatile_motes
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = {
						is_gestalt = no
					}
					OR = {
						has_active_building = building_spec_crystals_main_1
						has_active_building = building_spec_crystals_main_2
						has_active_building = building_spec_crystals_main_3
					}
				}
				modifier = {
					job_translucer_add = 1
				}
			}
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = {
						is_gestalt = no
						OR = {
							has_active_building = building_spec_crystals_aux
						}
					}
				}
				modifier = {
					job_translucer_add = 1
				}
			}
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = {
						is_gestalt = no
						OR = {
							has_active_building = building_spec_motes_main_1
							has_active_building = building_spec_motes_main_2
							has_active_building = building_spec_motes_main_3
						}
					}
				}
				modifier = {
					job_chemist_add = 1
				}
			}
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = {
						is_gestalt = no
						OR = {
							has_active_building = building_spec_motes_aux
						}
					}
				}
				modifier = {
					job_chemist_add = 1
				}
			}
		#Gestalts
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = {
						is_gestalt = yes
					}
					OR = {
						has_active_building = building_spec_gases_main_1
						has_active_building = building_spec_gases_main_2
						has_active_building = building_spec_gases_main_3
					}
				}
				modifier = {
					job_gas_refiner_drone_add = 1
				}
			}
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = {
						is_gestalt = yes
					}
					OR = {
						has_active_building = building_spec_gases_aux
					}
				}
				modifier = {
					job_gas_refiner_drone_add = 1
				}
			}
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = {
						is_gestalt = yes
					}
					OR = {
						has_active_building = building_spec_crystals_main_1
						has_active_building = building_spec_crystals_main_2
						has_active_building = building_spec_crystals_main_3
					}
				}
				modifier = {
					job_translucer_drone_add = 1
				}
			}
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = {
						is_gestalt = yes
						OR = {
							has_active_building = building_spec_crystals_aux
						}
					}
				}
				modifier = {
					job_translucer_drone_add = 1
				}
			}
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = {
						is_gestalt = yes
						OR = {
							has_active_building = building_spec_motes_main_1
							has_active_building = building_spec_motes_main_2
							has_active_building = building_spec_motes_main_3
						}
					}
				}
				modifier = {
					job_chemist_drone_add = 1
				}
			}
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = {
						is_gestalt = yes
						OR = {
							has_active_building = building_spec_motes_aux
						}
					}
				}
				modifier = {
					job_chemist_drone_add = 1
				}
			}
	#Description Tooltip
		#Non_gestalts
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						is_gestalt = no
						OR = {
							has_active_building = building_spec_gases_main_1
							has_active_building = building_spec_gases_main_2
							has_active_building = building_spec_gases_main_3
							has_active_building = building_spec_gases_aux
						}
					}
				}
				text = job_gas_refiner_effect_desc
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						is_gestalt = no
						OR = {
							has_active_building = building_spec_crystals_main_1
							has_active_building = building_spec_crystals_main_2
							has_active_building = building_spec_crystals_main_3
							has_active_building = building_spec_crystals_aux
						}
					}
				}
				text = job_translucer_effect_desc
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						is_gestalt = no
						OR = {
							has_active_building = building_spec_motes_main_1
							has_active_building = building_spec_motes_main_2
							has_active_building = building_spec_motes_main_3
							has_active_building = building_spec_motes_aux
						}
					}
				}
				text = job_chemist_effect_desc
			}
		#Gestalts
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						is_gestalt = yes
						OR = {
							has_active_building = building_spec_gases_main_1
							has_active_building = building_spec_gases_main_2
							has_active_building = building_spec_gases_main_3
							has_active_building = building_spec_gases_aux
						}
					}
				}
				text = job_gas_refiner_drone_effect_desc
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						is_gestalt = yes
						OR = {
							has_active_building = building_spec_crystals_main_1
							has_active_building = building_spec_crystals_main_2
							has_active_building = building_spec_crystals_main_3
							has_active_building = building_spec_crystals_aux
						}
					}
				}
				text = job_translucer_drone_effect_desc
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						is_gestalt = yes
						OR = {
							has_active_building = building_spec_motes_main_1
							has_active_building = building_spec_motes_main_2
							has_active_building = building_spec_motes_main_3
							has_active_building = building_spec_motes_aux
						}
					}
				}
				text = job_chemist_drone_effect_desc
			}
	##Ai_resource_production
		#exotic_gases
			ai_resource_production = {
				exotic_gases = 1
				trigger = {
					owner = {
						has_active_building = building_spec_gases_main_1
					}
				}
			}
			ai_resource_production = {
				exotic_gases = 1
				trigger = {
					owner = {
						has_active_building = building_spec_gases_main_1
						has_active_building = building_spec_gases_aux
					}
				}
			}
			ai_resource_production = {
				exotic_gases = 2
				trigger = {
					owner = {
						has_active_building = building_spec_gases_main_2
					}
				}
			}
			ai_resource_production = {
				exotic_gases = 2
				trigger = {
					owner = {
						has_active_building = building_spec_gases_main_2
						has_active_building = building_spec_gases_aux
					}
				}
			}
			ai_resource_production = {
				exotic_gases = 3
				trigger = {
					owner = {
						has_active_building = building_spec_gases_main_3
					}
				}
			}
			ai_resource_production = {
				exotic_gases = 3
				trigger = {
					owner = {
						has_active_building = building_spec_gases_main_3
						has_active_building = building_spec_gases_aux
					}
				}
			}
		#rare_crystals
			ai_resource_production = {
				rare_crystals = 1
				trigger = {
					owner = {
						has_active_building = building_spec_crystals_main_1
					}
				}
			}
			ai_resource_production = {
				rare_crystals = 1
				trigger = {
					owner = {
						has_active_building = building_spec_crystals_main_1
						has_active_building = building_spec_crystals_aux
					}
				}
			}
			ai_resource_production = {
				rare_crystals = 2
				trigger = {
					owner = {
						has_active_building = building_spec_crystals_main_2
					}
				}
			}
			ai_resource_production = {
				rare_crystals = 2
				trigger = {
					owner = {
						has_active_building = building_spec_crystals_main_2
						has_active_building = building_spec_crystals_aux
					}
				}
			}
			ai_resource_production = {
				rare_crystals = 3
				trigger = {
					owner = {
						has_active_building = building_spec_crystals_main_3
					}
				}
			}
			ai_resource_production = {
				rare_crystals = 3
				trigger = {
					owner = {
						has_active_building = building_spec_crystals_main_3
						has_active_building = building_spec_crystals_aux
					}
				}
			}
		#volatile_motes
			ai_resource_production = {
				volatile_motes = 1
				trigger = {
					owner = {
						has_active_building = building_spec_motes_main_1
					}
				}
			}
			ai_resource_production = {
				volatile_motes = 1
				trigger = {
					owner = {
						has_active_building = building_spec_motes_main_1
						has_active_building = building_spec_motes_aux
					}
				}
			}
			ai_resource_production = {
				volatile_motes = 2
				trigger = {
					owner = {
						has_active_building = building_spec_motes_main_2
					}
				}
			}
			ai_resource_production = {
				volatile_motes = 2
				trigger = {
					owner = {
						has_active_building = building_spec_motes_main_2
						has_active_building = building_spec_motes_aux
					}
				}
			}
			ai_resource_production = {
				volatile_motes = 3
				trigger = {
					owner = {
						has_active_building = building_spec_motes_main_3
					}
				}
			}
			ai_resource_production = {
				volatile_motes = 3
				trigger = {
					owner = {
						has_active_building = building_spec_motes_main_3
						has_active_building = building_spec_motes_aux
					}
				}
			}
}
