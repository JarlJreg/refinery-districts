@localvar_base_jobs = 1
habitat_district_refinery = {
	# Basic_properties
		base_buildtime = 240
		is_capped_by_modifier = no
		resources = {
			category = planet_districts_refinery
			cost = {
				minerals = 500
			}
			upkeep = {
				energy = 2
			}
		}
	# Conditions
		potential = {
			exists = owner
			uses_district_set = habitat
		}
		allow = {
			NOT = { has_modifier = resort_colony }
			NOT = { has_modifier = slave_colony }
		}
		show_on_uncolonized = {
  		exists = from
			uses_district_set = habitat
		}
	# Effects
		# Base
			planet_modifier = {
				planet_housing_add = 3
			}
		# Research
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = { is_gestalt = no }
				}
				modifier = {
					job_researcher_add = @localvar_base_jobs
				}
			}
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = { is_hive_empire = yes }
				}
				modifier = {
					job_brain_drone_add = @localvar_base_jobs
				}
			}
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = { is_machine_empire = yes }
				}
				modifier = {
					job_calculator_add = @localvar_base_jobs
				}
			}
			# Non_gestalts
				# exotic_gases
					triggered_planet_modifier = {
						potential = {
							OR = {
								has_active_building = building_spec_gases_main_1
								has_active_building = building_spec_gases_main_2
								has_active_building = building_spec_gases_main_3
							}
							exists = owner
							owner = {
								is_gestalt = no
							}
						}
						modifier = {
							job_gas_refiner_add = @localvar_base_jobs
						}
					}
					triggered_planet_modifier = {
						potential = {
							OR = {
								has_active_building = building_spec_gases_aux
							}
							exists = owner
							owner = {
								is_gestalt = no
							}
						}
						modifier = {
							job_gas_refiner_add = @localvar_base_jobs
						}
					}
				# rare_crystals
					triggered_planet_modifier = {
						potential = {
							OR = {
								has_active_building = building_spec_crystals_main_1
								has_active_building = building_spec_crystals_main_2
								has_active_building = building_spec_crystals_main_3
							}
							exists = owner
							owner = {
								is_gestalt = no
							}
						}
						modifier = {
							job_translucer_add = @localvar_base_jobs
						}
					}
					triggered_planet_modifier = {
						potential = {
							OR = {
								has_active_building = building_spec_crystals_aux
							}
							exists = owner
							owner = {
								is_gestalt = no
							}
						}
						modifier = {
							job_translucer_add = @localvar_base_jobs
						}
					}
				# volatile_motes
					triggered_planet_modifier = {
						potential = {
							OR = {
								has_active_building = building_spec_motes_main_1
								has_active_building = building_spec_motes_main_2
								has_active_building = building_spec_motes_main_3
							}
							exists = owner
							owner = {
								is_gestalt = no
							}
						}
						modifier = {
							job_chemist_add = @localvar_base_jobs
						}
					}
					triggered_planet_modifier = {
						potential = {
							OR = {
								has_active_building = building_spec_motes_aux
							}
							exists = owner
							owner = {
								is_gestalt = no
							}
						}
						modifier = {
							job_chemist_add = @localvar_base_jobs
						}
					}
			# Gestalts
				# exotic_gases
					triggered_planet_modifier = {
						potential = {
							OR = {
								has_active_building = building_spec_gases_main_1
								has_active_building = building_spec_gases_main_2
								has_active_building = building_spec_gases_main_3
							}
							exists = owner
							owner = {
								is_gestalt = yes
							}
						}
						modifier = {
							job_gas_refiner_drone_add = @localvar_base_jobs
						}
					}
					triggered_planet_modifier = {
						potential = {
							OR = {
								has_active_building = building_spec_gases_aux
							}
							exists = owner
							owner = {
								is_gestalt = yes
							}
						}
						modifier = {
							job_gas_refiner_drone_add = @localvar_base_jobs
						}
					}
				# rare_crystals
					triggered_planet_modifier = {
						potential = {
							OR = {
								has_active_building = building_spec_crystals_main_1
								has_active_building = building_spec_crystals_main_2
								has_active_building = building_spec_crystals_main_3
							}
							exists = owner
							owner = {
								is_gestalt = yes
							}
						}
						modifier = {
							job_translucer_drone_add = @localvar_base_jobs
						}
					}
					triggered_planet_modifier = {
						potential = {
							OR = {
								has_active_building = building_spec_crystals_aux
							}
							exists = owner
							owner = {
								is_gestalt = yes
							}
						}
						modifier = {
							job_translucer_drone_add = @localvar_base_jobs
						}
					}
				# volatile_motes
					triggered_planet_modifier = {
						potential = {
							OR = {
								has_active_building = building_spec_motes_main_1
								has_active_building = building_spec_motes_main_2
								has_active_building = building_spec_motes_main_3
							}
							exists = owner
							owner = {
								is_gestalt = yes
							}
						}
						modifier = {
							job_chemist_drone_add = @localvar_base_jobs
						}
					}
					triggered_planet_modifier = {
						potential = {
							OR = {
								has_active_building = building_spec_motes_aux
							}
							exists = owner
							owner = {
								is_gestalt = yes
							}
						}
						modifier = {
							job_chemist_drone_add = @localvar_base_jobs
						}
					}
}
