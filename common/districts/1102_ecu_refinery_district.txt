@localvar_base_jobs = 5
ecu_district_refinery = {
	#Basic_properties
		base_buildtime =
		is_capped_by_modifier = no
		resources = {
			category = ecu_districts_refinery
			cost = {
				minerals = 1000
			}
			upkeep = {
				energy = 5
			}
		}
	#Conditions
		potential = {
			exists = owner
			uses_district_set = city_world
		}
		allow = {
			NOT = { has_modifier = resort_colony }
			NOT = { has_modifier = slave_colony }
		}
		show_on_uncolonized = {
			exists = from
			uses_district_set = city_world
		}
	#Effects
		#Base
			planet_modifier = {
				planet_housing_add = 10
			}
		#Non_gestalts
			#exotic_gases
				triggered_planet_modifier = {
					potential = {
						exists = owner
						owner = {
							is_gestalt = no
						}
						OR = {
							has_active_building = building_spec_gases_main_1
							has_active_building = building_spec_gases_main_2
							has_active_building = building_spec_gases_main_3
						}
					}
					modifier = {
						job_gas_refiner_add = @localvar_base_jobs
					}
				}
				triggered_planet_modifier = {
					potential = {
						exists = owner
						owner = {
							is_gestalt = no
						}
						OR = {
							has_active_building = building_spec_gases_aux
						}
					}
					modifier = {
						job_gas_refiner_add = @localvar_base_jobs
					}
				}
			#rare_crystals
				triggered_planet_modifier = {
					potential = {
						exists = owner
						owner = {
							is_gestalt = no
						}
						OR = {
							has_active_building = building_spec_crystals_main_1
							has_active_building = building_spec_crystals_main_2
							has_active_building = building_spec_crystals_main_3
						}
					}
					modifier = {
						job_translucer_add = @localvar_base_jobs
					}
				}
				triggered_planet_modifier = {
					potential = {
						exists = owner
						owner = {
							is_gestalt = no
							OR = {
								has_active_building = building_spec_crystals_aux
							}
						}
					}
					modifier = {
						job_translucer_add = @localvar_base_jobs
					}
				}
			#volatile_motes
				triggered_planet_modifier = {
					potential = {
						exists = owner
						owner = {
							is_gestalt = no
							OR = {
								has_active_building = building_spec_motes_main_1
								has_active_building = building_spec_motes_main_2
								has_active_building = building_spec_motes_main_3
							}
						}
					}
					modifier = {
						job_chemist_add = @localvar_base_jobs
					}
				}
				triggered_planet_modifier = {
					potential = {
						exists = owner
						owner = {
							is_gestalt = no
							OR = {
								has_active_building = building_spec_motes_aux
							}
						}
					}
					modifier = {
						job_chemist_add = @localvar_base_jobs
					}
				}
		#Gestalts
			#exotic_gases
				triggered_planet_modifier = {
					potential = {
						exists = owner
						owner = {
							is_gestalt = yes
						}
						OR = {
							has_active_building = building_spec_gases_main_1
							has_active_building = building_spec_gases_main_2
							has_active_building = building_spec_gases_main_3
						}
					}
					modifier = {
						job_gas_refiner_drone_add = @localvar_base_jobs
					}
				}
				triggered_planet_modifier = {
					potential = {
						exists = owner
						owner = {
							is_gestalt = yes
						}
						OR = {
							has_active_building = building_spec_gases_aux
						}
					}
					modifier = {
						job_gas_refiner_drone_add = @localvar_base_jobs
					}
				}
			#rare_crystals
				triggered_planet_modifier = {
					potential = {
						exists = owner
						owner = {
							is_gestalt = yes
						}
						OR = {
							has_active_building = building_spec_crystals_main_1
							has_active_building = building_spec_crystals_main_2
							has_active_building = building_spec_crystals_main_3
						}
					}
					modifier = {
						job_translucer_drone_add = @localvar_base_jobs
					}
				}
				triggered_planet_modifier = {
					potential = {
						exists = owner
						owner = {
							is_gestalt = yes
							OR = {
								has_active_building = building_spec_crystals_aux
							}
						}
					}
					modifier = {
						job_translucer_drone_add = @localvar_base_jobs
					}
				}
			#volatile_motes
				triggered_planet_modifier = {
					potential = {
						exists = owner
						owner = {
							is_gestalt = yes
							OR = {
								has_active_building = building_spec_motes_main_1
								has_active_building = building_spec_motes_main_2
								has_active_building = building_spec_motes_main_3
							}
						}
					}
					modifier = {
						job_chemist_drone_add = @localvar_base_jobs
					}
				}
				triggered_planet_modifier = {
					potential = {
						exists = owner
						owner = {
							is_gestalt = yes
							OR = {
								has_active_building = building_spec_motes_aux
							}
						}
					}
					modifier = {
						job_chemist_drone_add = @localvar_base_jobs
					}
				}
	#Description Tooltip
		#Non_gestalts
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						is_gestalt = no
						OR = {
							has_active_building = building_spec_gases_main_1
							has_active_building = building_spec_gases_main_2
							has_active_building = building_spec_gases_main_3
							has_active_building = building_spec_gases_aux
						}
					}
				}
				text = job_gas_refiner_effect_desc
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						is_gestalt = no
						OR = {
							has_active_building = building_spec_crystals_main_1
							has_active_building = building_spec_crystals_main_2
							has_active_building = building_spec_crystals_main_3
							has_active_building = building_spec_crystals_aux
						}
					}
				}
				text = job_translucer_effect_desc
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						is_gestalt = no
						OR = {
							has_active_building = building_spec_motes_main_1
							has_active_building = building_spec_motes_main_2
							has_active_building = building_spec_motes_main_3
							has_active_building = building_spec_motes_aux
						}
					}
				}
				text = job_chemist_effect_desc
			}
		#Gestalts
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						is_gestalt = yes
						OR = {
							has_active_building = building_spec_gases_main_1
							has_active_building = building_spec_gases_main_2
							has_active_building = building_spec_gases_main_3
							has_active_building = building_spec_gases_aux
						}
					}
				}
				text = job_gas_refiner_drone_effect_desc
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						is_gestalt = yes
						OR = {
							has_active_building = building_spec_crystals_main_1
							has_active_building = building_spec_crystals_main_2
							has_active_building = building_spec_crystals_main_3
							has_active_building = building_spec_crystals_aux
						}
					}
				}
				text = job_translucer_drone_effect_desc
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						is_gestalt = yes
						OR = {
							has_active_building = building_spec_motes_main_1
							has_active_building = building_spec_motes_main_2
							has_active_building = building_spec_motes_main_3
							has_active_building = building_spec_motes_aux
						}
					}
				}
				text = job_chemist_drone_effect_desc
			}
}
